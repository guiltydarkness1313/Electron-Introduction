<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>MyApp - Home Menu</title>
  <script src="../public/js/script.js"></script>
  <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
  <style>
    .carousel .carousel-item{
        height: 300px;
    }
    .card{
      min-width: 250px;
      margin-left: 10px;
      margin-right: 10px;
      margin-top: 10px;
      max-width: 18rem;
    }
    .row.equal-height {
      display: flex;
      flex-wrap: wrap;
    }
    .row.equal-height > [class*='col-'] {
      display: flex;
      flex-direction: column;
    }

    .card {
      flex: 1;
    }
  </style>
</head>
<body>
  <header>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <a class="navbar-brand" href="#">My Store</a>
      <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse" data-target="#navbar"
        aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbar">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="index.html">Home<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Settings</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="profile.html">Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="help.html">Help</a>
          </li>
        </ul>
        <form class="form-inline mt-2 mt-md-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
    </nav>
  </header>
  <div id="demo" class="carousel slide" data-ride="carousel">
  <ul class="carousel-indicators">
    <li data-target="#demo" data-slide-to="0" class="active"></li>
    <li data-target="#demo" data-slide-to="1"></li>
    <li data-target="#demo" data-slide-to="2"></li>
  </ul>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img class="d-block w-100" src="https://jooinn.com/images/landscape-274.jpg" alt="First slide">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="https://jooinn.com/images/landscape-279.jpg" alt="Second slide">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="https://jooinn.com/images/landscape-264.jpg" alt="Third slide">
    </div>
  </div>
  <a class="carousel-control-prev" href="#demo" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#demo" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-3 col-lg-3 my-2">
        <div class="list-group">
          <a href="#" class="list-group-item list-group-item-action">My products</a>
          <a href="#" class="list-group-item list-group-item-action">New products</a>
          <a href="#" class="list-group-item list-group-item-action">Another item yet</a>
          <a href="#" class="list-group-item list-group-item-action disabled">Last item</a>
        </div>
      </div>
      <div class="col-9 col-lg-9">
        <h1>Hello World</h1>
        <!--We are using node <script> document.write(process.versions.node)</script>,
        Chrome <script>document.write(process.versions.chrome)</script>,
        and Electron <script>document.write(process.versions.electron)</script>.-->
        <button id="btnA" class="btn btn-success">Apachurra</button>
        <button id="btnNext" class="btn btn-info">Go to Next Site</button>
        <script>
          $('#btnNext').on('click',()=>{
             const {remote} = require('electron');
             remote.getCurrentWindow().loadURL(__dirname+'/new-product.html')
          });
        </script>
        <h3 id="textEx"></h3>
        <div class="container-fluid">
        <div class="card-group py-4" id="content">
        <script>
            let $ = require('jquery');
            let path = require('path');
            let notifier = require('node-notifier');


            let count = 0;
            $('#textEx').text(count.toString());
            $('#btnA').on('click',()=>{
                count++;
                $('#textEx').text(count);
                notifier.notify({
                        title: 'Basic Notification',
                        body: 'Short message part',
                        icon: path.join("/public/images/png/256x256.png"),
                        sound: true,
                        wait: true,
                    },
                    function (err,res) {

                    }
                );
                notifier.on('click',function (notifierObject,opt) {
                    console.log("Clicked notification")
                });
                notifier.on('timeout',function (notifierObject,opt) {
                    console.log("Timed out!")
                });
            })
        </script>
        <script>
          const request = require('request');

          request("http://yupay.pe/v1/list",function (error,response,body) {
              if (!error){
                  console.log(body);
                  var element = document.getElementById('content');
                  //use parse to convert the data from REST API to JSON OBJECT
                  var data  = JSON.parse(body);
                  for(let i=0;i<data.length;i++) {
                      element.innerHTML += '<div class="col-md-4">'+
                          '<div class="card bg-light">\n' +
                          '  <div class="card-header">\n' +
                          data[i].name +
                          '  </div>\n' +
                          `<img class="card-img" src=${data[i].image} alt=${data[i].name}>`+
                          '  <div class="card-body">\n' +
                          '    <h5 class="card-title">S/.'+data[i].price+'</h5>\n' +
                          '    <p class="card-text">'+data[i].created_at+'</p>\n' +
                          '    <a href="#" class="btn btn-primary">Comprar</a>\n' +
                          '  </div>\n' +
                          '</div>'+'</div>'
                  }
              }

          });

        </script>
        </div>
        </div>
      </div>
    </div>
  </div>

</body>
</html>
